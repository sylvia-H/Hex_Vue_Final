"use strict";(self["webpackChunkhealthy_diet"]=self["webpackChunkhealthy_diet"]||[]).push([[248],{4739:function(e,a,o){o.d(a,{Z:function(){return u}});var t=o(6252);const s={class:"loadingio-spinner-spinner-r9nl8ighj1"},n=(0,t._)("div",{class:"ldio-7oudh8cl7et"},[(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div"),(0,t._)("div")],-1),i=[n];function l(e,a,o,n,l,r){return(0,t.wg)(),(0,t.iD)("div",s,i)}var r={name:"VueLoader"},d=o(3744);const c=(0,d.Z)(r,[["render",l]]);var u=c},7071:function(e,a,o){o.d(a,{Z:function(){return x}});var t=o(6252),s=o(9963);const n={class:"modal fade",id:"loginModal",tabindex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true"},i={class:"modal-dialog modal-sm modal-dialog-centered"},l={class:"modal-content"},r={class:"modal-body text-center | py-8"},d=(0,t._)("h2",{class:"fw-bold text-green1 | mb-3"}," 好食遞 ",-1),c=(0,t._)("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/sylviah/1649313622566.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=eaP3G7k7oveDkzEmK8P660klrEd0CkisflI1l63DLRmnAcfcAVGaWlgCN2MiN5%2Bfbrq77jpO5tLTrdk71OV6ZjKM2CqPIW6G2eeNT2OuG8V%2FW9CmrsfKdI%2BNOdKfsQPxt28oEJy2g5KQMIZA%2B81FcQCcUdUKbkUdudoPu8Bcr084Tln0OZgWU9W7uk8ZMQT8NTmmD%2BUq6HdrEpPdN8j0PttcHonogdikfeRZJJmVCXooeDC76AOOMIx2xYKxk%2BsAnzur2WIMZXIKCHf86eWUtUa3Oy2o3UOxkZYJGbayCki%2BAVZfGda5leYS8vyZmeroPrGO%2FUqnElfxpDmTaeh1hQ%3D%3D",alt:"Healthy-Diet LOGO",class:"mb-3"},null,-1),u=(0,t._)("h4",{class:"text-green1 | mb-4"}," HEALTHY DIET ",-1),m={id:"form"},p={class:"form-floating mb-4"},g=(0,t._)("label",{for:"username",class:"text-brown1 fw-bold"},"Email address",-1),h={class:"form-floating mb-4"},b=(0,t._)("label",{for:"password",class:"text-brown1 fw-bold"},"Password",-1);function f(e,a,o,f,v,_){return(0,t.wg)(),(0,t.iD)("div",n,[(0,t._)("div",i,[(0,t._)("div",l,[(0,t._)("div",r,[d,c,u,(0,t._)("form",m,[(0,t._)("div",p,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>v.userInfo.username=e),type:"email",id:"username",class:"form-control",placeholder:"name@example.com",required:""},null,512),[[s.nr,v.userInfo.username]]),g]),(0,t._)("div",h,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>v.userInfo.password=e),type:"password",id:"password",class:"form-control",placeholder:"Password",required:""},null,512),[[s.nr,v.userInfo.password]]),b]),(0,t._)("button",{onClick:a[2]||(a[2]=(...e)=>_.loginIn&&_.loginIn(...e)),class:"btn btn-lg btn-green2 text-white fw-bold w-100 mt-4",type:"button"}," 登 入 ")])])])])])}var v=o(7244),_={name:"ModalLogin",data(){return{modal:"",userInfo:{username:"",password:""}}},methods:{openModal(){this.modal.show()},closeModal(){this.modal.hide()},loginIn(){this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.userInfo).then((e=>{const{token:a,expired:o}=e.data;document.cookie=`myToken=${a}; expires=${new Date(o)};`,this.closeModal(),this.$router.push({name:"dashboard_Products"})})).catch((e=>{const a=e.response.data.message,o=e.response.data.error.message;this.$swal.fire({icon:"error",title:`${a}！`,text:o})}))}},mounted(){this.modal=new v.u_(document.getElementById("loginModal"))}},k=o(3744);const w=(0,k.Z)(_,[["render",f]]);var x=w},248:function(e,a,o){o.r(a),o.d(a,{default:function(){return C}});var t=o(6252);function s(e,a,o,s,n,i){const l=(0,t.up)("VueLoader"),r=(0,t.up)("VLoading"),d=(0,t.up)("BackendNavbar"),c=(0,t.up)("RouterView");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(r,{active:n.isLoading,"z-index":1e3},{default:(0,t.w5)((()=>[(0,t.Wm)(l)])),_:1},8,["active"]),(0,t.Wm)(d),n.status?((0,t.wg)(),(0,t.j4)(c,{key:0})):(0,t.kq)("",!0)],64)}const n={class:"navbar navbar-expand-lg navbar-dark bg-dark | py-4"},i={class:"container"},l=(0,t._)("i",{class:"bi bi-box-arrow-left fs-4 me-1"},null,-1),r=(0,t.Uk)(" 返回前台 "),d=(0,t._)("i",{class:"bi bi-boxes fs-4 me-1"},null,-1),c=(0,t.Uk)(" 產品列表 "),u=(0,t._)("i",{class:"bi bi-clipboard-data fs-4 me-1"},null,-1),m=(0,t.Uk)(" 訂單列表 "),p=(0,t._)("i",{class:"bi bi-ticket-perforated fs-4 me-1"},null,-1),g=(0,t.Uk)(" 優惠券管理 "),h=(0,t._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarList","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,t._)("span",{class:"navbar-toggler-icon"})],-1),b={class:"collapse navbar-collapse justify-content-end",id:"navbarList"},f={class:"navbar-nav"},v=(0,t._)("i",{class:"bi bi-person-circle fs-4 text-light | me-2 me-lg-0"},null,-1),_=(0,t._)("p",{class:"d-lg-none text-light"},"後台管理人員登入",-1),k=[v,_];function w(e,a,o,s,v,_){const w=(0,t.up)("RouterLink"),x=(0,t.up)("ModalLogin");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("nav",n,[(0,t._)("div",i,[(0,t.Wm)(w,{to:"/",class:"text-light me-8"},{default:(0,t.w5)((()=>[l,r])),_:1}),(0,t.Wm)(w,{to:"./products",class:"text-light me-8"},{default:(0,t.w5)((()=>[d,c])),_:1}),(0,t.Wm)(w,{to:"./orders",class:"text-light me-8"},{default:(0,t.w5)((()=>[u,m])),_:1}),(0,t.Wm)(w,{to:"./coupon",class:"text-light me-8"},{default:(0,t.w5)((()=>[p,g])),_:1}),h,(0,t._)("div",b,[(0,t._)("ul",f,[(0,t._)("li",{class:"btn nav-item d-flex align-items-center",onClick:a[0]||(a[0]=(...e)=>_.openLoginModel&&_.openLoginModel(...e)),onKeydown:a[1]||(a[1]=(...a)=>e.login&&e.login(...a))},k,32)])])])]),(0,t.Wm)(x,{ref:"loginModal"},null,512)],64)}var x=o(7071),y={name:"BackendNavbar",components:{ModalLogin:x.Z},methods:{openLoginModel(){this.$refs.loginModal.openModal()}}},L=o(3744);const M=(0,L.Z)(y,[["render",w]]);var I=M,Z=o(4739),U={components:{BackendNavbar:I,VueLoader:Z.Z},data(){return{isLoading:!1,status:!1}},methods:{checkLogin(){this.isLoading=!0;const e=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((()=>{this.isLoading=!1,this.status=!0})).catch((()=>{this.isLoading=!1,this.$router.push("./")}))}},created(){this.checkLogin()}};const W=(0,L.Z)(U,[["render",s]]);var C=W}}]);
//# sourceMappingURL=248.79c65d17.js.map