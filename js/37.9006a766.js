"use strict";(self["webpackChunkhealthy_diet"]=self["webpackChunkhealthy_diet"]||[]).push([[37],{367:function(l,t,e){e.d(t,{Z:function(){return g}});var i=e(6252),o=e(6949);const c={class:"loader"},s=(0,i.uE)('<div class="load_base load1"><div class="load_base out_loader"><img src="'+o+'" alt="logo"></div></div><div class="load_base load2"><div class="load_base in_loader in_loader1"></div><div class="load_base in_loader in_loader2"></div><div class="load_base in_loader in_loader3"></div><div class="load_base in_loader in_loader4"></div></div>',2),a=[s];function n(l,t,e,o,s,n){return(0,i.wg)(),(0,i.iD)("div",c,a)}var d={name:"VueLoader"},r=e(3744);const _=(0,r.Z)(d,[["render",n]]);var g=_},2037:function(l,t,e){e.r(t),e.d(t,{default:function(){return Yl}});var i=e(6252),o=e(3577);const c={class:"container | py-20",style:{"min-height":"90vh"}},s=(0,i._)("h2",{class:"text-center"},"我的收藏",-1),a=(0,i._)("hr",{class:"my-8"},null,-1),n={class:"row text-center"},d={key:0,class:"col-12 table-responsive py-6"},r={class:"table table-hover | d-none d-lg-block"},_=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"品名"),(0,i._)("th",{scope:"col"}),(0,i._)("th",{scope:"col"},"內含份量"),(0,i._)("th",{scope:"col"},"總熱量"),(0,i._)("th",{scope:"col"},"總碳水化合物"),(0,i._)("th",{scope:"col"},"粗脂肪總量"),(0,i._)("th",{scope:"col"},"粗蛋白總量"),(0,i._)("th",{scope:"col"},"查看商品細節"),(0,i._)("th",{scope:"col"},"加入購物車"),(0,i._)("th",{scope:"col"},"收藏中")])],-1),g={scope:"row",class:"align-middle"},b={class:"badge bg-primary mb-2"},u=(0,i._)("br",null,null,-1),m={class:"align-middle"},h=["src","alt"],p={class:"align-middle"},v={class:"align-middle"},w={class:"align-middle"},y={class:"align-middle"},k={class:"align-middle"},x={class:"align-middle"},f=(0,i._)("i",{class:"bi bi-zoom-in"},null,-1),C={class:"align-middle"},z=["onClick","disabled"],D={key:0,class:"spinner-border text-warning",role:"status"},I=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),L=[I],F={key:1,class:"d-flex w-100"},$=(0,i._)("i",{class:"bi bi-cart3 me-1"},null,-1),O=(0,i._)("span",{class:"d-none d-xl-block"}," 加入購物車 ",-1),U=[$,O],j={class:"align-middle"},S=["onClick"],W=(0,i._)("i",{class:"bi bi-heart"},null,-1),H=[W],V={class:"table table-hover | d-none d-md-block d-lg-none"},Y=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"品名"),(0,i._)("th",{scope:"col"},"類別"),(0,i._)("th",{scope:"col"},"內含份量"),(0,i._)("th",{scope:"col"},"總熱量"),(0,i._)("th",{scope:"col"},"查看商品細節"),(0,i._)("th",{scope:"col"},"加入購物車"),(0,i._)("th",{scope:"col"},"收藏中")])],-1),Z={scope:"row",class:"align-middle"},K={class:"badge bg-primary mb-2"},J=(0,i._)("br",null,null,-1),N={class:"align-middle"},q=["src","alt"],E={class:"align-middle"},R={class:"align-middle"},A={class:"align-middle"},B=(0,i._)("i",{class:"bi bi-zoom-in"},null,-1),G={class:"align-middle"},M=["onClick","disabled"],P={key:0,class:"spinner-border text-warning",role:"status"},Q=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),T=[Q],X={key:1,class:"d-flex"},ll=(0,i._)("i",{class:"bi bi-cart3 me-1"},null,-1),tl=[ll],el={class:"align-middle"},il=["onClick"],ol=(0,i._)("i",{class:"bi bi-heart"},null,-1),cl=[ol],sl={class:"table table-hover | d-block d-md-none"},al=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"品名"),(0,i._)("th",{scope:"col"},"類別"),(0,i._)("th",{scope:"col"},"內含份量"),(0,i._)("th",{scope:"col"},"查看商品細節"),(0,i._)("th",{scope:"col"},"加入購物車"),(0,i._)("th",{scope:"col"},"收藏中")])],-1),nl={scope:"row",class:"align-middle"},dl={class:"badge bg-primary mb-2"},rl=(0,i._)("br",null,null,-1),_l={class:"align-middle"},gl=["src","alt"],bl={class:"align-middle"},ul={class:"align-middle"},ml=(0,i._)("i",{class:"bi bi-zoom-in"},null,-1),hl={class:"align-middle"},pl=["onClick","disabled"],vl={key:0,class:"spinner-border text-warning",role:"status"},wl=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),yl=[wl],kl={key:1,class:"d-flex"},xl=(0,i._)("i",{class:"bi bi-cart3 me-1"},null,-1),fl=(0,i._)("span",{class:"d-none d-lg-block"}," 想買 ",-1),Cl=[xl,fl],zl={class:"align-middle"},Dl=["onClick"],Il=(0,i._)("i",{class:"bi bi-heart"},null,-1),Ll=[Il],Fl={key:1,class:"col-12 py-6"},$l=(0,i._)("p",{class:"text-orange1 fz-6 mb-4"},"再多逛逛，把喜愛的商品收藏起來吧！",-1),Ol=(0,i._)("i",{class:"bi bi-search-heart text-orange1 fz-25"},null,-1),Ul=[$l,Ol];function jl(l,t,e,I,$,O){const W=(0,i.up)("VueLoader"),Q=(0,i.up)("VLoading"),ll=(0,i.up)("RouterLink");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Q,{active:$.isLoading,"z-index":1e3},{default:(0,i.w5)((()=>[(0,i.Wm)(W)])),_:1},8,["active"]),(0,i._)("section",c,[s,a,(0,i._)("div",n,[Object.keys($.collection).length?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("table",r,[_,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Object.keys($.collection),(l=>((0,i.wg)(),(0,i.iD)("tr",{key:l},[(0,i._)("th",g,[(0,i._)("span",b,(0,o.zw)($.collection[l].category),1),u,(0,i.Uk)(" "+(0,o.zw)($.collection[l].title),1)]),(0,i._)("td",m,[(0,i._)("img",{class:"max-w-100px",src:$.collection[l].imageUrl,alt:$.collection[l].title},null,8,h)]),(0,i._)("td",p,(0,o.zw)($.collection[l].number)+" "+(0,o.zw)($.collection[l].unit),1),(0,i._)("td",v,(0,o.zw)(($.collection[l].calorie*$.collection[l].number/100).toFixed(2))+" kcal ",1),(0,i._)("td",w,(0,o.zw)(($.collection[l].carbohydrate*$.collection[l].number/100).toFixed(2))+" g ",1),(0,i._)("td",y,(0,o.zw)(($.collection[l].crudeFat*$.collection[l].number/100).toFixed(2))+" g ",1),(0,i._)("td",k,(0,o.zw)(($.collection[l].protein*$.collection[l].number/100).toFixed(2))+" g ",1),(0,i._)("td",x,[(0,i.Wm)(ll,{to:`/product/${$.collection[l].id}`},{default:(0,i.w5)((()=>[f])),_:2},1032,["to"])]),(0,i._)("td",C,[(0,i._)("button",{onClick:t=>O.addCart(l),disabled:l===$.is_loadingItem,type:"button",class:"btn btn-dark d-flex align-items-center"},[l===$.is_loadingItem?((0,i.wg)(),(0,i.iD)("div",D,L)):((0,i.wg)(),(0,i.iD)("div",F,U))],8,z)]),(0,i._)("td",j,[(0,i._)("button",{type:"button",onClick:t=>O.addCollection($.collection[l]),class:(0,o.C_)(["btn btn-outline-danger d-flex align-items-center",{active:$.collection[l]}])},H,10,S)])])))),128))])]),(0,i._)("table",V,[Y,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Object.keys($.collection),(l=>((0,i.wg)(),(0,i.iD)("tr",{key:l},[(0,i._)("th",Z,[(0,i._)("span",K,(0,o.zw)($.collection[l].category),1),J,(0,i.Uk)(" "+(0,o.zw)($.collection[l].title),1)]),(0,i._)("td",N,[(0,i._)("img",{class:"max-w-100px",src:$.collection[l].imageUrl,alt:$.collection[l].title},null,8,q)]),(0,i._)("td",E,(0,o.zw)($.collection[l].number)+" "+(0,o.zw)($.collection[l].unit),1),(0,i._)("td",R,(0,o.zw)(($.collection[l].calorie*$.collection[l].number/100).toFixed(2))+" kcal ",1),(0,i._)("td",A,[(0,i.Wm)(ll,{to:`/product/${$.collection[l].id}`},{default:(0,i.w5)((()=>[B])),_:2},1032,["to"])]),(0,i._)("td",G,[(0,i._)("button",{onClick:t=>O.addCart(l),disabled:l===$.is_loadingItem,type:"button",class:"btn btn-dark d-flex align-items-center"},[l===$.is_loadingItem?((0,i.wg)(),(0,i.iD)("div",P,T)):((0,i.wg)(),(0,i.iD)("div",X,tl))],8,M)]),(0,i._)("td",el,[(0,i._)("button",{type:"button",onClick:t=>O.addCollection($.collection[l]),class:(0,o.C_)(["btn btn-outline-danger d-flex align-items-center",{active:$.collection[l]}])},cl,10,il)])])))),128))])]),(0,i._)("table",sl,[al,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(Object.keys($.collection),(l=>((0,i.wg)(),(0,i.iD)("tr",{key:l},[(0,i._)("th",nl,[(0,i._)("span",dl,(0,o.zw)($.collection[l].category),1),rl,(0,i.Uk)(" "+(0,o.zw)($.collection[l].title),1)]),(0,i._)("td",_l,[(0,i._)("img",{class:"max-w-100px",src:$.collection[l].imageUrl,alt:$.collection[l].title},null,8,gl)]),(0,i._)("td",bl,(0,o.zw)($.collection[l].number)+" "+(0,o.zw)($.collection[l].unit),1),(0,i._)("td",ul,[(0,i.Wm)(ll,{to:`/product/${$.collection[l].id}`},{default:(0,i.w5)((()=>[ml])),_:2},1032,["to"])]),(0,i._)("td",hl,[(0,i._)("button",{onClick:t=>O.addCart(l),disabled:l===$.is_loadingItem,type:"button",class:"btn btn-dark d-flex align-items-center"},[l===$.is_loadingItem?((0,i.wg)(),(0,i.iD)("div",vl,yl)):((0,i.wg)(),(0,i.iD)("div",kl,Cl))],8,pl)]),(0,i._)("td",zl,[(0,i._)("button",{type:"button",onClick:t=>O.addCollection($.collection[l]),class:(0,o.C_)(["btn btn-outline-danger d-flex align-items-center",{active:$.collection[l]}])},Ll,10,Dl)])])))),128))])])])):((0,i.wg)(),(0,i.iD)("div",Fl,Ul))])])],64)}var Sl=e(367),Wl={data(){return{isLoading:!1,is_loadingItem:"",collection:{}}},components:{VueLoader:Sl.Z},inject:["emitter"],methods:{addCollection(l){const t=l.id;this.collection[t]?delete this.collection[t]:this.collection[t]=l,localStorage.setItem("myFavorite",JSON.stringify(this.collection)),this.emitter.emit("get-fav")},getCollection(){if(localStorage.getItem("myFavorite")){this.isLoading=!0;const l=JSON.parse(localStorage.getItem("myFavorite"));this.collection=l,this.isLoading=!1}},addCart(l,t=1){const e={product_id:l,qty:t};this.is_loadingItem=l,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/sylviah/cart",{data:e}).then((l=>{const t=l.data.data.product.title,e=l.data.message;this.emitter.emit("toast-msg",{style:"success",content:`${t} ${e}`}),this.is_loadingItem="",this.emitter.emit("get-cart")})).catch((l=>{const t=l.response.data.message||"出現錯誤，請重試一次！";this.emitter.emit("toast-msg",{style:"error",content:`${t}`}),this.is_loadingItem=""}))}},mounted(){this.getCollection()}},Hl=e(3744);const Vl=(0,Hl.Z)(Wl,[["render",jl]]);var Yl=Vl}}]);
//# sourceMappingURL=37.9006a766.js.map