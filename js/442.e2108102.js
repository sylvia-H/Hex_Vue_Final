"use strict";(self["webpackChunkhealthy_diet"]=self["webpackChunkhealthy_diet"]||[]).push([[442],{8442:function(t,e,s){s.r(e),s.d(e,{default:function(){return ue}});var l=s(6252),i=s(3577);const o={class:"container | py-10"},c={class:"row"},a={class:"d-flex mx-8 mb-10"},r=(0,l.Uk)(" 首頁 "),n=(0,l._)("span",{class:"text-miute mx-2"},"/",-1),d=(0,l.Uk)(" 來選好食 "),u=(0,l._)("span",{class:"text-mute mx-2"},"/",-1),p={class:"text-green1"},m={class:"row"},_={class:"col-12 col-md-6"},g={class:"text-center"},h={class:"col-12"},w={key:0,class:"border overflow-hidden rounded-3 shadow heightLimit_main | m-8"},b=["src","alt"],v={key:0,class:"row m-6"},y={class:"col-4"},f={class:"border overflow-hidden rounded-3 heightLimit_thumb"},k=["src","alt"],x={class:"border overflow-hidden rounded-3 heightLimit_thumb"},z=["src","alt"],C={class:"col-12 col-md-6 | pt-15"},$={class:"row | mb-5"},I={class:"row | my-5"},U={class:"col-10 offset-1"},L=(0,l._)("hr",null,null,-1),D={class:"d-flex align-items-center"},S=(0,l._)("p",{class:"fw-bold"},"本產品內含份量：",-1),F={class:"d-flex align-items-center"},j=(0,l._)("p",{class:"fw-bold text-muted"},"原價：",-1),T={class:"text-muted"},P=(0,l.Uk)(" 元 "),W=(0,l._)("p",{class:"ms-5"},"折扣後優惠價：",-1),q={class:"fw-bold text-danger fz-8"},V=(0,l._)("p",null,"元",-1),Z=(0,l._)("hr",null,null,-1),K={class:"col-10 offset-1 d-flex justify-content-between"},R=(0,l._)("i",{class:"bi bi-heart me-2"},null,-1),H=(0,l.Uk)(" 加入我的最愛 "),Y=[R,H],A=["disabled"],J={key:0,class:"spinner-border spinner-border-sm text-warning",role:"status"},N=(0,l._)("span",{class:"visually-hidden"},"Loading...",-1),O=[N],B={key:1},E=(0,l._)("i",{class:"bi bi-cart3 me-2"},null,-1),G=(0,l.Uk)(" 馬上加進購物車 "),M=[E,G],Q={class:"row | mb-10"},X={class:"fz-4 text-muted"},tt={key:0,class:"row"},et={class:"col-12"},st={class:"table table-hover table-bordered"},lt=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{colspan:"4"},"食材內含主要營養素成份表（每 100g ）")])],-1),it=(0,l._)("th",{scope:"row",style:{width:"30%"}},"熱量",-1),ot={style:{width:"25%"}},ct=(0,l._)("td",{style:{width:"30%"}},[(0,l._)("b",null,"粗蛋白")],-1),at=(0,l._)("th",{scope:"row"},"總碳水化合物",-1),rt=(0,l._)("td",null,[(0,l._)("b",null,"膳食纖維")],-1),nt=(0,l._)("th",{scope:"row"},"粗脂肪",-1),dt=(0,l._)("td",null,[(0,l._)("b",null,"飽和脂肪")],-1),ut=(0,l._)("th",{scope:"row"},"鈉",-1),pt=(0,l._)("td",null,[(0,l._)("b",null,"鈣")],-1),mt=(0,l._)("th",{scope:"row"},"鉀",-1),_t=(0,l._)("td",null,[(0,l._)("b",null,"鋅")],-1),gt=(0,l._)("th",{scope:"row"},"鎂",-1),ht=(0,l._)("td",null,[(0,l._)("b",null,"鐵")],-1),wt=(0,l._)("p",{class:"text-start fz-3"},[(0,l.Uk)(" ✵ 依據衛生福利部食品藥物管理署所公佈"),(0,l._)("a",{href:"https://data.gov.tw/dataset/8543",target:"_blank"},"「食品營養成分資料集」"),(0,l.Uk)("資料內容 ")],-1),bt=(0,l._)("hr",{class:"my-12"},null,-1),vt=(0,l._)("h3",{class:"mb-8 ms-8"},"這些你也會喜歡...",-1);function yt(t,e,s,R,H,N){const E=(0,l.up)("VueLoader"),G=(0,l.up)("VLoading"),yt=(0,l.up)("RouterLink"),ft=(0,l.up)("SwiperRecommend");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(G,{active:H.isLoading,"z-index":1e3},{default:(0,l.w5)((()=>[(0,l.Wm)(E)])),_:1},8,["active"]),(0,l._)("section",o,[(0,l._)("div",c,[(0,l._)("div",a,[(0,l.Wm)(yt,{to:"../",class:"text-gray"},{default:(0,l.w5)((()=>[r])),_:1}),n,(0,l.Wm)(yt,{to:"../products",class:"text-gray"},{default:(0,l.w5)((()=>[d])),_:1}),u,(0,l._)("p",p,(0,i.zw)(H.product.title),1)])]),(0,l._)("div",m,[(0,l._)("div",_,[(0,l._)("h2",g,(0,i.zw)(H.product.title),1),(0,l._)("div",h,[H.tempImgUrl?((0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("img",{class:"img-cover",src:H.tempImgUrl,alt:H.product.title},null,8,b)])):(0,l.kq)("",!0)]),H.product.imagesUrl?((0,l.wg)(),(0,l.iD)("div",v,[(0,l._)("div",y,[(0,l._)("div",f,[(0,l._)("img",{class:"img-cover btn p-0",src:H.product.imageUrl,alt:H.product.title,onClick:e[0]||(e[0]=(...t)=>N.changeTemp&&N.changeTemp(...t)),onKeydown:e[1]||(e[1]=(...e)=>t.enter&&t.enter(...e))},null,40,k)])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(H.product.imagesUrl,((s,i)=>((0,l.wg)(),(0,l.iD)("div",{class:"col-4",key:i},[(0,l._)("div",x,[(0,l._)("img",{class:"img-cover btn p-0",src:s,alt:H.product.title,onClick:e[2]||(e[2]=(...t)=>N.changeTemp&&N.changeTemp(...t)),onKeydown:e[3]||(e[3]=(...e)=>t.enter&&t.enter(...e))},null,40,z)])])))),128))])):(0,l.kq)("",!0)]),(0,l._)("div",C,[(0,l._)("div",$,[(0,l._)("p",null,(0,i.zw)(H.product.description||""),1)]),(0,l._)("div",I,[(0,l._)("div",U,[L,(0,l._)("div",D,[S,(0,l._)("span",null,(0,i.zw)(H.product.number)+" "+(0,i.zw)(H.product.unit),1)]),(0,l._)("div",F,[j,(0,l._)("span",T,[(0,l._)("s",null,(0,i.zw)(t.$filters.toCurrency(H.product.origin_price)),1),P]),W,(0,l._)("span",q,(0,i.zw)(t.$filters.toCurrency(H.product.price)),1),V]),Z]),(0,l._)("div",K,[(0,l._)("button",{type:"button",onClick:e[4]||(e[4]=t=>N.addCollection(H.product)),class:(0,i.C_)(["btn btn-outline-danger d-flex align-items-center",{active:H.collection[H.product.id]}])},Y,2),(0,l._)("button",{onClick:e[5]||(e[5]=t=>N.addCart(H.product.id)),disabled:H.product.id===H.is_loadingItem,type:"button",class:"btn btn-dark d-flex align-items-center"},[H.product.id===H.is_loadingItem?((0,l.wg)(),(0,l.iD)("div",J,O)):((0,l.wg)(),(0,l.iD)("div",B,M))],8,A)])]),(0,l._)("div",Q,[(0,l._)("p",X,(0,i.zw)(H.product.content||""),1)]),H.product.is_nutrients?((0,l.wg)(),(0,l.iD)("div",tt,[(0,l._)("div",et,[(0,l._)("table",st,[lt,(0,l._)("tbody",null,[(0,l._)("tr",null,[it,(0,l._)("td",ot,(0,i.zw)(H.product.calorie)+" kcal",1),ct,(0,l._)("td",null,(0,i.zw)(H.product.protein)+" g",1)]),(0,l._)("tr",null,[at,(0,l._)("td",null,(0,i.zw)(H.product.carbohydrate)+" g",1),rt,(0,l._)("td",null,(0,i.zw)(H.product.DietaryFiber)+" g",1)]),(0,l._)("tr",null,[nt,(0,l._)("td",null,(0,i.zw)(H.product.crudeFat)+" g",1),dt,(0,l._)("td",null,(0,i.zw)(H.product.SaturatedFat)+" g",1)]),(0,l._)("tr",null,[ut,(0,l._)("td",null,(0,i.zw)(H.product.sodium)+" mg",1),pt,(0,l._)("td",null,(0,i.zw)(H.product.calcium)+" mg",1)]),(0,l._)("tr",null,[mt,(0,l._)("td",null,(0,i.zw)(H.product.potassium)+" mg",1),_t,(0,l._)("td",null,(0,i.zw)(H.product.zinc)+" mg",1)]),(0,l._)("tr",null,[gt,(0,l._)("td",null,(0,i.zw)(H.product.magnesium)+" mg",1),ht,(0,l._)("td",null,(0,i.zw)(H.product.iron)+" mg",1)])])]),wt])])):(0,l.kq)("",!0)])]),bt,(0,l._)("div",null,[vt,(0,l.Wm)(ft,{class:"ms-8",products:H.products,collection:H.collection,onAddCollection:N.addCollection},null,8,["products","collection","onAddCollection"])])])],64)}var ft=s(367);const kt={class:"card rounded-0 mb-3 position-relative",style:{"max-width":"540px"}},xt=["onClick"],zt={key:0,class:"bi bi-bookmark-heart-fill text-danger"},Ct={key:1,class:"bi bi-bookmark-heart-fill text-light4"},$t={class:"row g-0"},It={class:"col-lg-5 d-flex flex-column justify-content-between"},Ut={class:"card-img"},Lt=["src","alt"],Dt={class:"align-items-center justify-content-center"},St={class:"fz-4 fw-bold text-center"},Ft=(0,l.Uk)(" 好食價 "),jt={class:"fz-5 text-danger"},Tt={class:"fz-4 text-muted mx-1"},Pt=(0,l.Uk)("元 "),Wt={class:"d-flex justify-content-center px-4 pb-4"},qt=["onClick","disabled"],Vt={key:0,class:"spinner-border spinner-border-sm text-warning",role:"status"},Zt=(0,l._)("span",{class:"visually-hidden"},"Loading...",-1),Kt=[Zt],Rt={key:1,class:"d-flex"},Ht=(0,l._)("i",{class:"bi bi-cart3 me-1"},null,-1),Yt=(0,l._)("span",null," 加入購物車 ",-1),At=[Ht,Yt],Jt={class:"col-lg-7"},Nt={class:"card-body align-self-end"},Ot={class:"table m-0"},Bt={colspan:"2",scope:"col"},Et={class:"card-title"},Gt=(0,l._)("th",{scope:"row"}," 份量 ",-1),Mt=(0,l._)("th",{scope:"row"}," 粗蛋白 ",-1),Qt=(0,l._)("th",{scope:"row"}," 碳水化合物 ",-1),Xt=(0,l._)("th",{scope:"row"}," 粗脂肪 ",-1);function te(t,e,s,o,c,a){const r=(0,l.up)("RouterLink"),n=(0,l.up)("SwiperSlide"),d=(0,l.up)("Swiper");return(0,l.wg)(),(0,l.j4)(d,{class:"py-5",modules:c.modules,breakpoints:c.swiper.breakpoints},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.products,(e=>((0,l.wg)(),(0,l.j4)(n,{key:e.id},{default:(0,l.w5)((()=>[(0,l._)("div",kt,[(0,l._)("div",{onClick:s=>t.$emit("add-collection",e),class:"badgeFav position-absolute translate-middle-y top-3 end-0 fz-8"},[s.collection[e.id]?((0,l.wg)(),(0,l.iD)("i",zt)):((0,l.wg)(),(0,l.iD)("i",Ct))],8,xt),(0,l._)("div",$t,[(0,l._)("div",It,[(0,l._)("div",Ut,[(0,l.Wm)(r,{to:`./${e.id}`},{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.imageUrl,class:"img-cover rounded-start",alt:e.title},null,8,Lt)])),_:2},1032,["to"])]),(0,l._)("div",Dt,[(0,l._)("p",St,[Ft,(0,l._)("span",jt,(0,i.zw)(e.price),1),(0,l._)("span",Tt,[(0,l._)("s",null,(0,i.zw)(e.origin_price),1)]),Pt])]),(0,l._)("div",Wt,[(0,l._)("button",{onClick:t=>a.addCart(e.id),disabled:e.id===c.is_loadingItem,type:"button",class:"btn btn-dark d-flex align-items-center justify-content-center w-100"},[e.id===c.is_loadingItem?((0,l.wg)(),(0,l.iD)("div",Vt,Kt)):((0,l.wg)(),(0,l.iD)("div",Rt,At))],8,qt)])]),(0,l._)("div",Jt,[(0,l._)("div",Nt,[(0,l._)("table",Ot,[(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",Bt,[(0,l._)("h5",Et,(0,i.zw)(e.title),1)])])]),(0,l._)("tbody",null,[(0,l._)("tr",null,[Gt,(0,l._)("td",null,[(0,l._)("span",null,(0,i.zw)(e.number)+" "+(0,i.zw)(e.unit),1)])]),(0,l._)("tr",null,[Mt,(0,l._)("td",null,(0,i.zw)((e.protein*e.number/100).toFixed(1))+" g ",1)]),(0,l._)("tr",null,[Qt,(0,l._)("td",null,(0,i.zw)((e.carbohydrate*e.number/100).toFixed(1))+" g ",1)]),(0,l._)("tr",null,[Xt,(0,l._)("td",null,(0,i.zw)((e.crudeFat*e.number/100).toFixed(1))+" g ",1)])])])])])])])])),_:2},1024)))),128))])),_:1},8,["modules","breakpoints"])}var ee=s(234),se=s(4041),le=s(5186),ie=s(2997),oe=(s(4341),s(8241),{data(){return{is_loadingItem:"",modules:[le.Z,ie.Z],swiper:{breakpoints:{0:{slidesPerView:1.3},768:{slidesPerView:2.2,spaceBetween:30}}}}},components:{Swiper:ee.t,SwiperSlide:se.o},inject:["emitter"],props:["products","collection"],methods:{addCart(t,e=1){const s={product_id:t,qty:e};this.is_loadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/sylviah/cart",{data:s}).then((t=>{const e=t.data.data.product.title,s=t.data.message;this.emitter.emit("toast-msg",{style:"success",content:`${e} ${s}`}),this.is_loadingItem="",this.emitter.emit("get-cart")})).catch((t=>{const e=t.response.data.message||"出現錯誤，請重試一次！";this.emitter.emit("toast-msg",{style:"error",content:`${e}`}),this.is_loadingItem=""}))}}}),ce=s(3744);const ae=(0,ce.Z)(oe,[["render",te]]);var re=ae,ne={data(){return{is_navFixTop:!0,product:{origin_price:"",price:""},products:[],tempImgUrl:"",is_loadingItem:"",carts:[],collection:{},isLoading:!1}},components:{VueLoader:ft.Z,SwiperRecommend:re},inject:["emitter"],methods:{getProduct(t){this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/sylviah/product/${t}`).then((t=>{this.product=t.data.product,this.getTemp(),this.getProducts(t.data.product.id,t.data.product.category),this.isLoading=!1})).catch((()=>{this.isLoading=!1}))},getProducts(t,e){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/sylviah/products/all").then((s=>{this.products=s.data.products.filter((s=>s.id!==t&&s.category===e))})).catch((t=>{const e=t.response.data.message||"出現錯誤，請重試一次！";this.emitter.emit("toast-msg",{style:"error",content:`${e}`})}))},getTemp(){this.tempImgUrl=this.product.imageUrl},changeTemp(t){this.tempImgUrl=t.target.src},getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/sylviah/cart").then((t=>{this.carts=t.data.data})).catch((t=>{console.dir(t)}))},addCart(t,e=1){const s={product_id:t,qty:e};this.is_loadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/sylviah/cart",{data:s}).then((t=>{const e=t.data.data.product.title,s=t.data.message;this.emitter.emit("toast-msg",{style:"success",content:`${e} ${s}`}),this.getCart(),this.is_loadingItem="",this.emitter.emit("get-cart")})).catch((t=>{const e=t.response.data.message||"出現錯誤，請重試一次！";this.emitter.emit("toast-msg",{style:"error",content:`${e}`}),this.is_loadingItem=""}))},addCollection(t){const e=t.id;this.collection[e]?(delete this.collection[e],this.emitter.emit("toast-msg",{style:"success",content:`${t.title} 從我的收藏中移除囉！`})):(this.collection[e]=t,this.emitter.emit("toast-msg",{style:"success",content:`${t.title} 加入我的收藏囉！`})),localStorage.setItem("myFavorite",JSON.stringify(this.collection)),this.emitter.emit("get-fav")},getCollection(){if(localStorage.getItem("myFavorite")){const t=JSON.parse(localStorage.getItem("myFavorite"));this.collection=t}}},watch:{$route(){const{id:t}=this.$route.params;this.getProduct(t)}},mounted(){const{id:t}=this.$route.params;this.getProduct(t),this.getCart(),this.getCollection()}};const de=(0,ce.Z)(ne,[["render",yt]]);var ue=de}}]);
//# sourceMappingURL=442.e2108102.js.map